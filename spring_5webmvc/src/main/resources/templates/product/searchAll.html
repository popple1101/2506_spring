<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Product Search</title>
  <link rel="stylesheet" href="/css/table.css">
  <link rel="stylesheet" href="/css/searchForm.css">
</head>

<body>
  <h1>상품 검색</h1>
  <div class="search-form">
    <form method="get" action="searchAllTest">
      <div class="search-row">
        <div class="search-group">
          <label for="searchCode">상품 코드</label>
          <input type="text" id="searchCode" name=pcode th:value="${searchDto!=null? searchDto.pcode : ''}"
            placeholder="상품코드">
          <!-- t h : value=" $ { searchDto!=null? searchDto.pcode : ''}" -->
        </div>
        <div class="search-group">
          <label for="searchPname">상품명</label>
          <input type="text" id="searchPname" name="pname" th:value="${searchDto!=null?searchDto.pname : ''}"
            placeholder="상품명">
        </div>
      </div>

      <div class="search-row">
        <div class="search-group">
          <label>가격 (PRICE)</label>
          <div class="range-group">
            <input type="number" name="minPrice" th:value="${searchDto!=null? searchDto.minPrice :''}" placeholder="최소"
              min="0">
            <span>~</span>
            <input type="number" name="maxPrice" th:value="${searchDto!=null? searchDto.maxPrice : ''}" placeholder="최대"
              min="0">
          </div>
        </div>
      </div>
      <button class="btn btn-primary">검색</button>
      <button type="button" class="btn btn-secondary" onclick="location.href='searchAll'">전체 목록</button>
    </form>
  </div>
  <hr>
  <h2>목록</h2>
  <table>
    <tr>
      <th>상품코드</th>
      <th>카테고리</th>
      <th>상품명</th>
      <th>가격</th>
    </tr>
    <tr th:each="dto : ${list}">
      <td th:text="${dto.pcode}"></td>
      <td th:text="${dto.category}"></td>
      <td th:text="${dto.pname}"></td>
      <td th:text="${#numbers.formatCurrency(dto.price)}"></td>
    </tr>
  </table>
</body>

</html>